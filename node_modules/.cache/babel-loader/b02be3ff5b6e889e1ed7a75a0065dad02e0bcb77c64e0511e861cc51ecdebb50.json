{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\ZonePlayer.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport api from \"../api/services\";\nimport usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport MediaPlayer from \"./MediaPlayer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ZonePlayer({\n  screenId,\n  zoneId,\n  playlistId,\n  fallbackMediaId\n}) {\n  _s();\n  const [items, setItems] = useState([]);\n  const [fallback, setFallback] = useState(null);\n  useEffect(() => {\n    if (!playlistId) return;\n    api.get(`/playlists/${playlistId}/active-items`).then(res => setItems(res.data || []));\n  }, [playlistId]);\n  useEffect(() => {\n    if (!fallbackMediaId) return;\n    api.get(`/media/${fallbackMediaId}`).then(res => setFallback(res.data));\n  }, [fallbackMediaId]);\n  const itemsToPlay = items.length ? items : fallback ? [{\n    mediaId: fallback\n  }] : [];\n  const {\n    current\n  } = usePlaylistPlayer(itemsToPlay);\n  if (!(current !== null && current !== void 0 && current.mediaId)) return null;\n  return /*#__PURE__*/_jsxDEV(MediaPlayer, {\n    media: current.mediaId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n}\n_s(ZonePlayer, \"G2KSll8V5k23uwIWoJV5rMg7ki0=\", false, function () {\n  return [usePlaylistPlayer];\n});\n_c = ZonePlayer;\nvar _c;\n$RefreshReg$(_c, \"ZonePlayer\");","map":{"version":3,"names":["useEffect","useRef","useState","api","usePlaylistPlayer","MediaPlayer","jsxDEV","_jsxDEV","ZonePlayer","screenId","zoneId","playlistId","fallbackMediaId","_s","items","setItems","fallback","setFallback","get","then","res","data","itemsToPlay","length","mediaId","current","media","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/ZonePlayer.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport api from \"../api/services\";\nimport usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport MediaPlayer from \"./MediaPlayer\";\n\nexport default function ZonePlayer({\n  screenId,\n  zoneId,\n  playlistId,\n  fallbackMediaId\n}) {\n  const [items, setItems] = useState([]);\n  const [fallback, setFallback] = useState(null);\n\n  useEffect(() => {\n    if (!playlistId) return;\n    api.get(`/playlists/${playlistId}/active-items`)\n      .then(res => setItems(res.data || []));\n  }, [playlistId]);\n\n  useEffect(() => {\n    if (!fallbackMediaId) return;\n    api.get(`/media/${fallbackMediaId}`)\n      .then(res => setFallback(res.data));\n  }, [fallbackMediaId]);\n\n  const itemsToPlay =\n    items.length ? items : fallback ? [{ mediaId: fallback }] : [];\n\n  const { current } = usePlaylistPlayer(itemsToPlay);\n\n  if (!current?.mediaId) return null;\n\n  return <MediaPlayer media={current.mediaId} />;\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAOC,iBAAiB,MAAM,4BAA4B;AAC1D,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,UAAUA,CAAC;EACjCC,QAAQ;EACRC,MAAM;EACNC,UAAU;EACVC;AACF,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE9CF,SAAS,CAAC,MAAM;IACd,IAAI,CAACW,UAAU,EAAE;IACjBR,GAAG,CAACe,GAAG,CAAC,cAAcP,UAAU,eAAe,CAAC,CAC7CQ,IAAI,CAACC,GAAG,IAAIL,QAAQ,CAACK,GAAG,CAACC,IAAI,IAAI,EAAE,CAAC,CAAC;EAC1C,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAEhBX,SAAS,CAAC,MAAM;IACd,IAAI,CAACY,eAAe,EAAE;IACtBT,GAAG,CAACe,GAAG,CAAC,UAAUN,eAAe,EAAE,CAAC,CACjCO,IAAI,CAACC,GAAG,IAAIH,WAAW,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC;EACvC,CAAC,EAAE,CAACT,eAAe,CAAC,CAAC;EAErB,MAAMU,WAAW,GACfR,KAAK,CAACS,MAAM,GAAGT,KAAK,GAAGE,QAAQ,GAAG,CAAC;IAAEQ,OAAO,EAAER;EAAS,CAAC,CAAC,GAAG,EAAE;EAEhE,MAAM;IAAES;EAAQ,CAAC,GAAGrB,iBAAiB,CAACkB,WAAW,CAAC;EAElD,IAAI,EAACG,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAED,OAAO,GAAE,OAAO,IAAI;EAElC,oBAAOjB,OAAA,CAACF,WAAW;IAACqB,KAAK,EAAED,OAAO,CAACD;EAAQ;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAChD;AAACjB,EAAA,CA7BuBL,UAAU;EAAA,QAwBZJ,iBAAiB;AAAA;AAAA2B,EAAA,GAxBfvB,UAAU;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}