{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\screens\\\\ZoneEditor.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport api from \"../../api/services\";\nimport { debounce } from \"../../utils/useDebounce\";\nimport Zone from \"../../components/screens/Zone\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ZoneEditor({\n  zones,\n  setZones,\n  containerRef,\n  screenId\n}) {\n  _s();\n  const [media, setMedia] = useState([]);\n  useEffect(() => {\n    api.get(\"/media\").then(res => setMedia(res.data));\n  }, []);\n  function updateZone(id, changes) {\n    setZones(prev => prev.map(z => z._id === id ? {\n      ...z,\n      ...changes\n    } : z));\n  }\n  const saveZones = debounce(zones => {\n    if (!screenId) return;\n    api.put(`/screens/${screenId}/zones`, {\n      zones\n    });\n  }, 800);\n  useEffect(() => {\n    if (zones.length) saveZones(zones);\n  }, [zones]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: zones.map(zone => /*#__PURE__*/_jsxDEV(Zone, {\n      zone: zone,\n      containerRef: containerRef,\n      media: media,\n      updateZone: updateZone,\n      onChange: updated => updateZone(updated._id, updated)\n    }, zone._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n_s(ZoneEditor, \"Gng1ieIzUDFjmjt+9/Vr9QTc2hU=\");\n_c = ZoneEditor;\n;\nexport default ZoneEditor;\nvar _c;\n$RefreshReg$(_c, \"ZoneEditor\");","map":{"version":3,"names":["useEffect","useState","api","debounce","Zone","jsxDEV","_jsxDEV","Fragment","_Fragment","ZoneEditor","zones","setZones","containerRef","screenId","_s","media","setMedia","get","then","res","data","updateZone","id","changes","prev","map","z","_id","saveZones","put","length","children","zone","onChange","updated","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/screens/ZoneEditor.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../../api/services\";\nimport { debounce } from \"../../utils/useDebounce\";\nimport Zone from \"../../components/screens/Zone\";\n\nfunction ZoneEditor({ zones, setZones, containerRef, screenId }) {\n  const [media, setMedia] = useState([]);\n\n  useEffect(() => {\n    api.get(\"/media\").then(res => setMedia(res.data));\n  }, []);\n\n  function updateZone(id, changes) {\n    setZones(prev =>\n      prev.map(z =>\n        z._id === id ? { ...z, ...changes } : z\n      )\n    );\n  }\n\n  const saveZones = debounce(zones => {\n    if (!screenId) return;\n    api.put(`/screens/${screenId}/zones`, { zones });\n  }, 800);\n\n  useEffect(() => {\n    if (zones.length) saveZones(zones);\n  }, [zones]);\n\n  return (\n    <>\n      {zones.map(zone => (\n        <Zone\n          key={zone._id}\n          zone={zone}\n          containerRef={containerRef}\n          media={media}\n          updateZone={updateZone}\n          onChange={updated =>\n            updateZone(updated._id, updated)\n          }\n        />\n      ))}\n    </>\n  );\n};\n\nexport default ZoneEditor;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,GAAG,MAAM,oBAAoB;AACpC,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,OAAOC,IAAI,MAAM,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjD,SAASC,UAAUA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,YAAY;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC/D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACdE,GAAG,CAACe,GAAG,CAAC,QAAQ,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC;EACnD,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,UAAUA,CAACC,EAAE,EAAEC,OAAO,EAAE;IAC/BZ,QAAQ,CAACa,IAAI,IACXA,IAAI,CAACC,GAAG,CAACC,CAAC,IACRA,CAAC,CAACC,GAAG,KAAKL,EAAE,GAAG;MAAE,GAAGI,CAAC;MAAE,GAAGH;IAAQ,CAAC,GAAGG,CACxC,CACF,CAAC;EACH;EAEA,MAAME,SAAS,GAAGzB,QAAQ,CAACO,KAAK,IAAI;IAClC,IAAI,CAACG,QAAQ,EAAE;IACfX,GAAG,CAAC2B,GAAG,CAAC,YAAYhB,QAAQ,QAAQ,EAAE;MAAEH;IAAM,CAAC,CAAC;EAClD,CAAC,EAAE,GAAG,CAAC;EAEPV,SAAS,CAAC,MAAM;IACd,IAAIU,KAAK,CAACoB,MAAM,EAAEF,SAAS,CAAClB,KAAK,CAAC;EACpC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,oBACEJ,OAAA,CAAAE,SAAA;IAAAuB,QAAA,EACGrB,KAAK,CAACe,GAAG,CAACO,IAAI,iBACb1B,OAAA,CAACF,IAAI;MAEH4B,IAAI,EAAEA,IAAK;MACXpB,YAAY,EAAEA,YAAa;MAC3BG,KAAK,EAAEA,KAAM;MACbM,UAAU,EAAEA,UAAW;MACvBY,QAAQ,EAAEC,OAAO,IACfb,UAAU,CAACa,OAAO,CAACP,GAAG,EAAEO,OAAO;IAChC,GAPIF,IAAI,CAACL,GAAG;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAQd,CACF;EAAC,gBACF,CAAC;AAEP;AAACxB,EAAA,CAxCQL,UAAU;AAAA8B,EAAA,GAAV9B,UAAU;AAwClB;AAED,eAAeA,UAAU;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}