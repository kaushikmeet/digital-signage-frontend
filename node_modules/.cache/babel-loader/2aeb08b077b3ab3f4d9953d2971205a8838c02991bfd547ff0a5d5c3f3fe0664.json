{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\Sidebar.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport api from \"../api/services\";\nimport MediaItem from \"./MediaItem\";\nimport { socket } from \"../utils/socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sidebar({\n  SelectedScreen\n}) {\n  _s();\n  const [screens, setScreens] = useState([]);\n  const [openScreen, setOpenScreen] = useState(null);\n  useEffect(() => {\n    if (!SelectedScreen) return;\n    socket.emit(\"register-screen\", SelectedScreen);\n    socket.on(\"playlist-updated\", () => {\n      console.log(\"ðŸ”„ Sidebar refresh\");\n      loadScreens();\n    });\n    return () => {\n      socket.off(\"playlist-updated\");\n    };\n  }, [SelectedScreen]);\n  async function loadScreens() {\n    const res = await api.get(\"/screens\");\n    setScreens(res.data || []);\n  }\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"w-72 bg-slate-900 text-white h-screen overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"p-4 font-semibold text-lg border-b border-slate-700\",\n      children: \"Screens\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), screens.map(screen => {\n      var _screen$playlist, _screen$playlist2, _screen$playlist2$ite, _screen$playlist3, _screen$playlist3$ite;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-slate-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOpenScreen(openScreen === screen._id ? null : screen._id),\n          className: \"w-full text-left px-4 py-3 hover:bg-slate-800\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: screen.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-400\",\n            children: ((_screen$playlist = screen.playlist) === null || _screen$playlist === void 0 ? void 0 : _screen$playlist.name) || \"No playlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), openScreen === screen._id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 px-3 py-2 space-y-2\",\n          children: [!((_screen$playlist2 = screen.playlist) !== null && _screen$playlist2 !== void 0 && (_screen$playlist2$ite = _screen$playlist2.items) !== null && _screen$playlist2$ite !== void 0 && _screen$playlist2$ite.length) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-400\",\n            children: \"No media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), (_screen$playlist3 = screen.playlist) === null || _screen$playlist3 === void 0 ? void 0 : (_screen$playlist3$ite = _screen$playlist3.items) === null || _screen$playlist3$ite === void 0 ? void 0 : _screen$playlist3$ite.map(item => /*#__PURE__*/_jsxDEV(MediaItem, {\n            item: item\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, screen._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"Nxh+O9yGMPylJP8LYeZJiOYY+z4=\");\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["useEffect","useState","api","MediaItem","socket","jsxDEV","_jsxDEV","Sidebar","SelectedScreen","_s","screens","setScreens","openScreen","setOpenScreen","emit","on","console","log","loadScreens","off","res","get","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","screen","_screen$playlist","_screen$playlist2","_screen$playlist2$ite","_screen$playlist3","_screen$playlist3$ite","onClick","_id","name","playlist","items","length","item","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/Sidebar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../api/services\";\nimport MediaItem from \"./MediaItem\";\nimport { socket } from \"../utils/socket\";\n\nexport default function Sidebar({SelectedScreen}) {\n  const [screens, setScreens] = useState([]);\n  const [openScreen, setOpenScreen] = useState(null);\n\n  useEffect(() => {\n    if (!SelectedScreen) return;\n\n    socket.emit(\"register-screen\", SelectedScreen);\n\n    socket.on(\"playlist-updated\", () => {\n      console.log(\"ðŸ”„ Sidebar refresh\");\n      loadScreens();\n    });\n\n    return () => {\n      socket.off(\"playlist-updated\");\n    };\n  }, [SelectedScreen]);\n\n  async function loadScreens() {\n    const res = await api.get(\"/screens\");\n    setScreens(res.data || []);\n  }\n\n  return (\n    <aside className=\"w-72 bg-slate-900 text-white h-screen overflow-y-auto\">\n      <h2 className=\"p-4 font-semibold text-lg border-b border-slate-700\">\n        Screens\n      </h2>\n\n      {screens.map(screen => (\n        <div key={screen._id} className=\"border-b border-slate-800\">\n\n          {/* SCREEN HEADER */}\n          <button\n            onClick={() =>\n              setOpenScreen(openScreen === screen._id ? null : screen._id)\n            }\n            className=\"w-full text-left px-4 py-3 hover:bg-slate-800\"\n          >\n            <p className=\"font-medium\">{screen.name}</p>\n            <p className=\"text-xs text-slate-400\">\n              {screen.playlist?.name || \"No playlist\"}\n            </p>\n          </button>\n\n          {/* PLAYLIST ITEMS */}\n          {openScreen === screen._id && (\n            <div className=\"bg-slate-800 px-3 py-2 space-y-2\">\n              {!screen.playlist?.items?.length && (\n                <p className=\"text-xs text-slate-400\">No media</p>\n              )}\n\n              {screen.playlist?.items?.map(item => (\n                <MediaItem key={item._id} item={item} />\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </aside>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}