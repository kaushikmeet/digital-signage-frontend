{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\screens\\\\ZoneContentResolver.jsx\",\n  _s = $RefreshSig$();\nimport usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport LiveWidgetRenderer from \"../LiveWidgetRenderer\";\nimport MediaPlayer from \"../MediaPlayer\";\n\n/**\n * Props:\n * zone\n * screenId\n * playlistItemsMap { playlistId: [] }\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ZoneContentResolver({\n  zone,\n  playlistItems = []\n}) {\n  _s();\n  /* ---------------- TIMELINE RESOLUTION ---------------- */\n\n  function getActiveTimelineSlot() {\n    var _zone$timeline;\n    if (!((_zone$timeline = zone.timeline) !== null && _zone$timeline !== void 0 && _zone$timeline.length)) return null;\n    const now = new Date();\n    const mins = now.getHours() * 60 + now.getMinutes();\n    return zone.timeline.find(slot => {\n      const [sh, sm] = slot.start.split(\":\").map(Number);\n      const [eh, em] = slot.end.split(\":\").map(Number);\n      const start = sh * 60 + sm;\n      const end = eh * 60 + em;\n      return mins >= start && mins < end;\n    });\n  }\n  const activeSlot = getActiveTimelineSlot();\n  const activePlaylistId = (activeSlot === null || activeSlot === void 0 ? void 0 : activeSlot.playlistId) || zone.playlistId;\n\n  /* ---------------- PLAYLIST PLAYER ---------------- */\n\n  const items = playlistItems || [];\n  const {\n    current\n  } = usePlaylistPlayer(items);\n\n  /* ---------------- RENDER PRIORITY ---------------- */\n\n  // 1️⃣ Live widget\n  if (zone.widget) {\n    return /*#__PURE__*/_jsxDEV(LiveWidgetRenderer, {\n      widget: zone.widget\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 2️⃣ Playlist content\n  if (current !== null && current !== void 0 && current.mediaId) {\n    return /*#__PURE__*/_jsxDEV(MediaPlayer, {\n      media: current.mediaId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 3️⃣ Fallback media\n  if (zone.fallbackMedia) {\n    return /*#__PURE__*/_jsxDEV(MediaPlayer, {\n      media: zone.fallbackMedia\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 4️⃣ Empty state\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-full flex items-center justify-center text-xs text-gray-400\",\n    children: \"No content\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ZoneContentResolver, \"qFOUeggr01lc+i4GG2MtXOJV/5s=\", false, function () {\n  return [usePlaylistPlayer];\n});\n_c = ZoneContentResolver;\nvar _c;\n$RefreshReg$(_c, \"ZoneContentResolver\");","map":{"version":3,"names":["usePlaylistPlayer","LiveWidgetRenderer","MediaPlayer","jsxDEV","_jsxDEV","ZoneContentResolver","zone","playlistItems","_s","getActiveTimelineSlot","_zone$timeline","timeline","length","now","Date","mins","getHours","getMinutes","find","slot","sh","sm","start","split","map","Number","eh","em","end","activeSlot","activePlaylistId","playlistId","items","current","widget","fileName","_jsxFileName","lineNumber","columnNumber","mediaId","media","fallbackMedia","className","children","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/screens/ZoneContentResolver.jsx"],"sourcesContent":["import usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport LiveWidgetRenderer from \"../LiveWidgetRenderer\";\nimport MediaPlayer from \"../MediaPlayer\";\n\n/**\n * Props:\n * zone\n * screenId\n * playlistItemsMap { playlistId: [] }\n */\nexport default function ZoneContentResolver({\n  zone,\n  playlistItems = []\n}) {\n  /* ---------------- TIMELINE RESOLUTION ---------------- */\n\n  function getActiveTimelineSlot() {\n    if (!zone.timeline?.length) return null;\n\n    const now = new Date();\n    const mins = now.getHours() * 60 + now.getMinutes();\n\n    return zone.timeline.find(slot => {\n      const [sh, sm] = slot.start.split(\":\").map(Number);\n      const [eh, em] = slot.end.split(\":\").map(Number);\n\n      const start = sh * 60 + sm;\n      const end = eh * 60 + em;\n\n      return mins >= start && mins < end;\n    });\n  }\n\n  const activeSlot = getActiveTimelineSlot();\n  const activePlaylistId =\n    activeSlot?.playlistId || zone.playlistId;\n\n  /* ---------------- PLAYLIST PLAYER ---------------- */\n\n  const items = playlistItems || [];\n  const { current } = usePlaylistPlayer(items);\n\n  /* ---------------- RENDER PRIORITY ---------------- */\n\n  // 1️⃣ Live widget\n  if (zone.widget) {\n    return <LiveWidgetRenderer widget={zone.widget} />;\n  }\n\n  // 2️⃣ Playlist content\n  if (current?.mediaId) {\n    return <MediaPlayer media={current.mediaId} />;\n  }\n\n  // 3️⃣ Fallback media\n  if (zone.fallbackMedia) {\n    return <MediaPlayer media={zone.fallbackMedia} />;\n  }\n\n  // 4️⃣ Empty state\n  return (\n    <div className=\"w-full h-full flex items-center justify-center text-xs text-gray-400\">\n      No content\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,iBAAiB,MAAM,4BAA4B;AAC1D,OAAOC,kBAAkB,MAAM,uBAAuB;AACtD,OAAOC,WAAW,MAAM,gBAAgB;;AAExC;AACA;AACA;AACA;AACA;AACA;AALA,SAAAC,MAAA,IAAAC,OAAA;AAMA,eAAe,SAASC,mBAAmBA,CAAC;EAC1CC,IAAI;EACJC,aAAa,GAAG;AAClB,CAAC,EAAE;EAAAC,EAAA;EACD;;EAEA,SAASC,qBAAqBA,CAAA,EAAG;IAAA,IAAAC,cAAA;IAC/B,IAAI,GAAAA,cAAA,GAACJ,IAAI,CAACK,QAAQ,cAAAD,cAAA,eAAbA,cAAA,CAAeE,MAAM,GAAE,OAAO,IAAI;IAEvC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAGF,GAAG,CAACG,QAAQ,CAAC,CAAC,GAAG,EAAE,GAAGH,GAAG,CAACI,UAAU,CAAC,CAAC;IAEnD,OAAOX,IAAI,CAACK,QAAQ,CAACO,IAAI,CAACC,IAAI,IAAI;MAChC,MAAM,CAACC,EAAE,EAAEC,EAAE,CAAC,GAAGF,IAAI,CAACG,KAAK,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;MAClD,MAAM,CAACC,EAAE,EAAEC,EAAE,CAAC,GAAGR,IAAI,CAACS,GAAG,CAACL,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;MAEhD,MAAMH,KAAK,GAAGF,EAAE,GAAG,EAAE,GAAGC,EAAE;MAC1B,MAAMO,GAAG,GAAGF,EAAE,GAAG,EAAE,GAAGC,EAAE;MAExB,OAAOZ,IAAI,IAAIO,KAAK,IAAIP,IAAI,GAAGa,GAAG;IACpC,CAAC,CAAC;EACJ;EAEA,MAAMC,UAAU,GAAGpB,qBAAqB,CAAC,CAAC;EAC1C,MAAMqB,gBAAgB,GACpB,CAAAD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEE,UAAU,KAAIzB,IAAI,CAACyB,UAAU;;EAE3C;;EAEA,MAAMC,KAAK,GAAGzB,aAAa,IAAI,EAAE;EACjC,MAAM;IAAE0B;EAAQ,CAAC,GAAGjC,iBAAiB,CAACgC,KAAK,CAAC;;EAE5C;;EAEA;EACA,IAAI1B,IAAI,CAAC4B,MAAM,EAAE;IACf,oBAAO9B,OAAA,CAACH,kBAAkB;MAACiC,MAAM,EAAE5B,IAAI,CAAC4B;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpD;;EAEA;EACA,IAAIL,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEM,OAAO,EAAE;IACpB,oBAAOnC,OAAA,CAACF,WAAW;MAACsC,KAAK,EAAEP,OAAO,CAACM;IAAQ;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAChD;;EAEA;EACA,IAAIhC,IAAI,CAACmC,aAAa,EAAE;IACtB,oBAAOrC,OAAA,CAACF,WAAW;MAACsC,KAAK,EAAElC,IAAI,CAACmC;IAAc;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnD;;EAEA;EACA,oBACElC,OAAA;IAAKsC,SAAS,EAAC,sEAAsE;IAAAC,QAAA,EAAC;EAEtF;IAAAR,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAEV;AAAC9B,EAAA,CAvDuBH,mBAAmB;EAAA,QA8BrBL,iBAAiB;AAAA;AAAA4C,EAAA,GA9BfvC,mBAAmB;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}