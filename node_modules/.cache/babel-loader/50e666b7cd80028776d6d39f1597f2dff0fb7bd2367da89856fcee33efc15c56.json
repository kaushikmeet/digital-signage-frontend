{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport default function usePlaylistPlayer(items = []) {\n  _s();\n  const [index, setIndex] = useState(0);\n  const [remaining, setRemaining] = useState(0);\n  useEffect(() => {\n    var _items$index;\n    if (!items.length) return;\n    setRemaining(((_items$index = items[index]) === null || _items$index === void 0 ? void 0 : _items$index.duration) || 0);\n    const timer = setInterval(() => {\n      setRemaining(prev => {\n        if (prev <= 1) {\n          var _items;\n          setIndex(i => (i + 1) % items.length);\n          return (_items = items[(index + 1) % items.length]) === null || _items === void 0 ? void 0 : _items.duration;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [index, items]);\n  return {\n    current: items[index],\n    index,\n    remaining\n  };\n}\n_s(usePlaylistPlayer, \"M+Kok2sn4661RlOEvgqYJRc0/Lo=\");","map":{"version":3,"names":["useEffect","useState","usePlaylistPlayer","items","_s","index","setIndex","remaining","setRemaining","_items$index","length","duration","timer","setInterval","prev","_items","i","clearInterval","current"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/hooks/usePlaylistPlayer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport default function usePlaylistPlayer(items = []) {\n  const [index, setIndex] = useState(0);\n  const [remaining, setRemaining] = useState(0);\n\n  useEffect(() => {\n    if (!items.length) return;\n\n    setRemaining(items[index]?.duration || 0);\n\n    const timer = setInterval(() => {\n      setRemaining(prev => {\n        if (prev <= 1) {\n          setIndex(i => (i + 1) % items.length);\n          return items[(index + 1) % items.length]?.duration;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [index, items]);\n\n  return {\n    current: items[index],\n    index,\n    remaining\n  };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,eAAe,SAASC,iBAAiBA,CAACC,KAAK,GAAG,EAAE,EAAE;EAAAC,EAAA;EACpD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EAE7CD,SAAS,CAAC,MAAM;IAAA,IAAAS,YAAA;IACd,IAAI,CAACN,KAAK,CAACO,MAAM,EAAE;IAEnBF,YAAY,CAAC,EAAAC,YAAA,GAAAN,KAAK,CAACE,KAAK,CAAC,cAAAI,YAAA,uBAAZA,YAAA,CAAcE,QAAQ,KAAI,CAAC,CAAC;IAEzC,MAAMC,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9BL,YAAY,CAACM,IAAI,IAAI;QACnB,IAAIA,IAAI,IAAI,CAAC,EAAE;UAAA,IAAAC,MAAA;UACbT,QAAQ,CAACU,CAAC,IAAI,CAACA,CAAC,GAAG,CAAC,IAAIb,KAAK,CAACO,MAAM,CAAC;UACrC,QAAAK,MAAA,GAAOZ,KAAK,CAAC,CAACE,KAAK,GAAG,CAAC,IAAIF,KAAK,CAACO,MAAM,CAAC,cAAAK,MAAA,uBAAjCA,MAAA,CAAmCJ,QAAQ;QACpD;QACA,OAAOG,IAAI,GAAG,CAAC;MACjB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMG,aAAa,CAACL,KAAK,CAAC;EACnC,CAAC,EAAE,CAACP,KAAK,EAAEF,KAAK,CAAC,CAAC;EAElB,OAAO;IACLe,OAAO,EAAEf,KAAK,CAACE,KAAK,CAAC;IACrBA,KAAK;IACLE;EACF,CAAC;AACH;AAACH,EAAA,CA3BuBF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}