{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\screens\\\\ApplyGroupLayoutButton.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport api from \"../../api/services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ApplyGroupLayoutButton({\n  screenId,\n  layout = [],\n  onApply\n}) {\n  _s();\n  const [loading, setLoading] = useState(false);\n  async function applyLayout() {\n    if (!screenId || !layout.length) return;\n    try {\n      setLoading(true);\n      const preparedZones = layout.map(z => {\n        var _z$playlistId, _z$fallbackMediaId, _z$timeline, _z$widget, _z$locked;\n        return {\n          name: z.name,\n          x: z.x,\n          y: z.y,\n          w: z.w,\n          h: z.h,\n          zIndex: z.zIndex || 1,\n          playlistId: (_z$playlistId = z.playlistId) !== null && _z$playlistId !== void 0 ? _z$playlistId : null,\n          fallbackMediaId: (_z$fallbackMediaId = z.fallbackMediaId) !== null && _z$fallbackMediaId !== void 0 ? _z$fallbackMediaId : null,\n          timeline: (_z$timeline = z.timeline) !== null && _z$timeline !== void 0 ? _z$timeline : [],\n          widget: (_z$widget = z.widget) !== null && _z$widget !== void 0 ? _z$widget : null,\n          locked: (_z$locked = z.locked) !== null && _z$locked !== void 0 ? _z$locked : false\n        };\n      });\n      const res = await api.put(`/screens/${screenId}/zones`, {\n        zones: preparedZones\n      });\n      onApply === null || onApply === void 0 ? void 0 : onApply(res.data.zones || preparedZones);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Apply group layout error:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      alert(\"❌ Failed to apply group layout\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    disabled: loading,\n    onClick: applyLayout,\n    className: `w-full mt-2 px-3 py-1 rounded\n        ${loading ? \"bg-gray-600\" : \"bg-indigo-700 hover:bg-indigo-600\"}\n      `,\n    children: loading ? \"Applying...\" : \"Apply Group Layout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(ApplyGroupLayoutButton, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n_c = ApplyGroupLayoutButton;\nvar _c;\n$RefreshReg$(_c, \"ApplyGroupLayoutButton\");","map":{"version":3,"names":["useState","api","jsxDEV","_jsxDEV","ApplyGroupLayoutButton","screenId","layout","onApply","_s","loading","setLoading","applyLayout","length","preparedZones","map","z","_z$playlistId","_z$fallbackMediaId","_z$timeline","_z$widget","_z$locked","name","x","y","w","h","zIndex","playlistId","fallbackMediaId","timeline","widget","locked","res","put","zones","data","err","_err$response","console","error","response","alert","disabled","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/screens/ApplyGroupLayoutButton.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport api from \"../../api/services\";\n\nexport default function ApplyGroupLayoutButton({\n  screenId,\n  layout = [],\n  onApply\n}) {\n  const [loading, setLoading] = useState(false);\n\n  async function applyLayout() {\n    if (!screenId || !layout.length) return;\n\n    try {\n      setLoading(true);\n\n      const preparedZones = layout.map(z => ({\n        name: z.name,\n        x: z.x,\n        y: z.y,\n        w: z.w,\n        h: z.h,\n        zIndex: z.zIndex || 1,\n        playlistId: z.playlistId ?? null,\n        fallbackMediaId: z.fallbackMediaId ?? null,\n        timeline: z.timeline ?? [],\n        widget: z.widget ?? null,\n        locked: z.locked ?? false\n      }));\n\n      const res = await api.put(`/screens/${screenId}/zones`, {\n        zones: preparedZones\n      });\n\n      onApply?.(res.data.zones || preparedZones);\n\n    } catch (err) {\n      console.error(\"Apply group layout error:\", err.response?.data || err);\n      alert(\"❌ Failed to apply group layout\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <button\n      disabled={loading}\n      onClick={applyLayout}\n      className={`w-full mt-2 px-3 py-1 rounded\n        ${loading ? \"bg-gray-600\" : \"bg-indigo-700 hover:bg-indigo-600\"}\n      `}\n    >\n      {loading ? \"Applying...\" : \"Apply Group Layout\"}\n    </button>\n  );\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,GAAG,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,eAAe,SAASC,sBAAsBA,CAAC;EAC7CC,QAAQ;EACRC,MAAM,GAAG,EAAE;EACXC;AACF,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE7C,eAAeW,WAAWA,CAAA,EAAG;IAC3B,IAAI,CAACN,QAAQ,IAAI,CAACC,MAAM,CAACM,MAAM,EAAE;IAEjC,IAAI;MACFF,UAAU,CAAC,IAAI,CAAC;MAEhB,MAAMG,aAAa,GAAGP,MAAM,CAACQ,GAAG,CAACC,CAAC;QAAA,IAAAC,aAAA,EAAAC,kBAAA,EAAAC,WAAA,EAAAC,SAAA,EAAAC,SAAA;QAAA,OAAK;UACrCC,IAAI,EAAEN,CAAC,CAACM,IAAI;UACZC,CAAC,EAAEP,CAAC,CAACO,CAAC;UACNC,CAAC,EAAER,CAAC,CAACQ,CAAC;UACNC,CAAC,EAAET,CAAC,CAACS,CAAC;UACNC,CAAC,EAAEV,CAAC,CAACU,CAAC;UACNC,MAAM,EAAEX,CAAC,CAACW,MAAM,IAAI,CAAC;UACrBC,UAAU,GAAAX,aAAA,GAAED,CAAC,CAACY,UAAU,cAAAX,aAAA,cAAAA,aAAA,GAAI,IAAI;UAChCY,eAAe,GAAAX,kBAAA,GAAEF,CAAC,CAACa,eAAe,cAAAX,kBAAA,cAAAA,kBAAA,GAAI,IAAI;UAC1CY,QAAQ,GAAAX,WAAA,GAAEH,CAAC,CAACc,QAAQ,cAAAX,WAAA,cAAAA,WAAA,GAAI,EAAE;UAC1BY,MAAM,GAAAX,SAAA,GAAEJ,CAAC,CAACe,MAAM,cAAAX,SAAA,cAAAA,SAAA,GAAI,IAAI;UACxBY,MAAM,GAAAX,SAAA,GAAEL,CAAC,CAACgB,MAAM,cAAAX,SAAA,cAAAA,SAAA,GAAI;QACtB,CAAC;MAAA,CAAC,CAAC;MAEH,MAAMY,GAAG,GAAG,MAAM/B,GAAG,CAACgC,GAAG,CAAC,YAAY5B,QAAQ,QAAQ,EAAE;QACtD6B,KAAK,EAAErB;MACT,CAAC,CAAC;MAEFN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAGyB,GAAG,CAACG,IAAI,CAACD,KAAK,IAAIrB,aAAa,CAAC;IAE5C,CAAC,CAAC,OAAOuB,GAAG,EAAE;MAAA,IAAAC,aAAA;MACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAE,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,uBAAZA,aAAA,CAAcF,IAAI,KAAIC,GAAG,CAAC;MACrEK,KAAK,CAAC,gCAAgC,CAAC;IACzC,CAAC,SAAS;MACR/B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACEP,OAAA;IACEuC,QAAQ,EAAEjC,OAAQ;IAClBkC,OAAO,EAAEhC,WAAY;IACrBiC,SAAS,EAAE;AACjB,UAAUnC,OAAO,GAAG,aAAa,GAAG,mCAAmC;AACvE,OAAQ;IAAAoC,QAAA,EAEDpC,OAAO,GAAG,aAAa,GAAG;EAAoB;IAAAqC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzC,CAAC;AAEb;AAACzC,EAAA,CApDuBJ,sBAAsB;AAAA8C,EAAA,GAAtB9C,sBAAsB;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}