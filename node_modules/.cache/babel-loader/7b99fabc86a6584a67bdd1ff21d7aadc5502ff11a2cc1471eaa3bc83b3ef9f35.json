{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\Player.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"http://localhost:8080\";\nfunction Player({\n  screenId\n}) {\n  _s();\n  const [timeline, setTimeline] = useState([]);\n  const [index, setIndex] = useState(0);\n  useEffect(() => {\n    fetch(`${API}/player/${screenId}`).then(res => res.json()).then(data => setTimeline(data));\n  }, [screenId]);\n  useEffect(() => {\n    if (!timeline.length) return;\n    const current = timeline[index];\n    const timeout = setTimeout(() => {\n      setIndex((index + 1) % timeline.length);\n    }, current.duration * 1000);\n    return () => clearTimeout(timeout);\n  }, [index, timeline]);\n  if (!timeline.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-screen h-screen bg-black text-white flex items-center justify-center\",\n      children: \"No content assigned\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n  const current = timeline[index];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen h-screen bg-black flex items-center justify-center\",\n    children: current.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: current.url,\n      className: \"max-w-full max-h-full\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n      src: current.url,\n      autoPlay: true,\n      muted: true,\n      className: \"max-w-full max-h-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Player, \"no2VAy11UEr7kodvwbz1YirbIDE=\");\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","API","Player","screenId","_s","timeline","setTimeline","index","setIndex","fetch","then","res","json","data","length","current","timeout","setTimeout","duration","clearTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","src","url","alt","autoPlay","muted","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/Player.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst API = \"http://localhost:8080\";\n\nfunction Player({ screenId }) {\n  const [timeline, setTimeline] = useState([]);\n  const [index, setIndex] = useState(0);\n\n  useEffect(() => {\n    fetch(`${API}/player/${screenId}`)\n      .then(res => res.json())\n      .then(data => setTimeline(data));\n  }, [screenId]);\n\n  useEffect(() => {\n    if (!timeline.length) return;\n\n    const current = timeline[index];\n    const timeout = setTimeout(() => {\n      setIndex((index + 1) % timeline.length);\n    }, current.duration * 1000);\n\n    return () => clearTimeout(timeout);\n  }, [index, timeline]);\n\n  if (!timeline.length) {\n    return (\n      <div className=\"w-screen h-screen bg-black text-white flex items-center justify-center\">\n        No content assigned\n      </div>\n    );\n  }\n\n  const current = timeline[index];\n\n  return (\n    <div className=\"w-screen h-screen bg-black flex items-center justify-center\">\n      {current.type === \"image\" ? (\n        <img\n          src={current.url}\n          className=\"max-w-full max-h-full\"\n          alt=\"\"\n        />\n      ) : (\n        <video\n          src={current.url}\n          autoPlay\n          muted\n          className=\"max-w-full max-h-full\"\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Player;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,GAAG,GAAG,uBAAuB;AAEnC,SAASC,MAAMA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAErCD,SAAS,CAAC,MAAM;IACdY,KAAK,CAAC,GAAGR,GAAG,WAAWE,QAAQ,EAAE,CAAC,CAC/BO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIP,WAAW,CAACO,IAAI,CAAC,CAAC;EACpC,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;EAEdN,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,QAAQ,CAACS,MAAM,EAAE;IAEtB,MAAMC,OAAO,GAAGV,QAAQ,CAACE,KAAK,CAAC;IAC/B,MAAMS,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC/BT,QAAQ,CAAC,CAACD,KAAK,GAAG,CAAC,IAAIF,QAAQ,CAACS,MAAM,CAAC;IACzC,CAAC,EAAEC,OAAO,CAACG,QAAQ,GAAG,IAAI,CAAC;IAE3B,OAAO,MAAMC,YAAY,CAACH,OAAO,CAAC;EACpC,CAAC,EAAE,CAACT,KAAK,EAAEF,QAAQ,CAAC,CAAC;EAErB,IAAI,CAACA,QAAQ,CAACS,MAAM,EAAE;IACpB,oBACEd,OAAA;MAAKoB,SAAS,EAAC,wEAAwE;MAAAC,QAAA,EAAC;IAExF;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAEV;EAEA,MAAMV,OAAO,GAAGV,QAAQ,CAACE,KAAK,CAAC;EAE/B,oBACEP,OAAA;IAAKoB,SAAS,EAAC,6DAA6D;IAAAC,QAAA,EACzEN,OAAO,CAACW,IAAI,KAAK,OAAO,gBACvB1B,OAAA;MACE2B,GAAG,EAAEZ,OAAO,CAACa,GAAI;MACjBR,SAAS,EAAC,uBAAuB;MACjCS,GAAG,EAAC;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,gBAEFzB,OAAA;MACE2B,GAAG,EAAEZ,OAAO,CAACa,GAAI;MACjBE,QAAQ;MACRC,KAAK;MACLX,SAAS,EAAC;IAAuB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC;EACF;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACrB,EAAA,CAjDQF,MAAM;AAAA8B,EAAA,GAAN9B,MAAM;AAmDf,eAAeA,MAAM;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}