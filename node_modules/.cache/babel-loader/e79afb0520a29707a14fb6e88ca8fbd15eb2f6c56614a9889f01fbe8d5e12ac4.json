{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\media\\\\UploadMedia.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport api from \"../../api/services\";\nimport { UploadCloud, X, Image, Video } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UploadMedia({\n  onCreated\n}) {\n  _s();\n  var _file$type, _file$type2;\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  async function upload() {\n    if (!file) return alert(\"Please select a file\");\n    try {\n      setLoading(true);\n      const form = new FormData();\n      form.append(\"file\", file);\n      const res = await api.post(\"/media/upload\", form, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      onCreated === null || onCreated === void 0 ? void 0 : onCreated(res.data);\n      setFile(null);\n    } catch (err) {\n      console.error(err);\n      alert(\"Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  function clearFile() {\n    setFile(null);\n  }\n  const isImage = file === null || file === void 0 ? void 0 : (_file$type = file.type) === null || _file$type === void 0 ? void 0 : _file$type.startsWith(\"image\");\n  const isVideo = file === null || file === void 0 ? void 0 : (_file$type2 = file.type) === null || _file$type2 === void 0 ? void 0 : _file$type2.startsWith(\"video\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(UploadCloud, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), \"Upload Media\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex flex-col items-center justify-center border-2 border-dashed border-gray-700 rounded-xl p-6 cursor-pointer hover:border-indigo-500 transition\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*,video/*\",\n        onChange: e => setFile(e.target.files[0]),\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), !file ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(UploadCloud, {\n          className: \"text-gray-400 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Click to upload image or video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: \"PNG, JPG, MP4, WEBM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative rounded-lg overflow-hidden bg-black\",\n          children: [isImage && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: URL.createObjectURL(file),\n            alt: \"preview\",\n            className: \"max-h-40 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), isVideo && /*#__PURE__*/_jsxDEV(\"video\", {\n            src: URL.createObjectURL(file),\n            className: \"max-h-40 mx-auto\",\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearFile,\n            className: \"absolute top-1 right-1 bg-black/70 rounded-full p-1\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-xs text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex items-center gap-1\",\n            children: [isImage && /*#__PURE__*/_jsxDEV(Image, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), isVideo && /*#__PURE__*/_jsxDEV(Video, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), file.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [(file.size / 1024 / 1024).toFixed(2), \" MB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: loading || !file,\n      onClick: upload,\n      className: `w-full flex items-center justify-center gap-2\n          px-3 py-2 rounded font-semibold\n          ${loading || !file ? \"bg-gray-700 cursor-not-allowed\" : \"bg-indigo-600 hover:bg-indigo-500\"}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(UploadCloud, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), loading ? \"Uploading...\" : \"Upload Media\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadMedia, \"b5r+Px8JiWNYfU82tOaR18FdgbQ=\");\n_c = UploadMedia;\nvar _c;\n$RefreshReg$(_c, \"UploadMedia\");","map":{"version":3,"names":["useState","api","UploadCloud","X","Image","Video","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadMedia","onCreated","_s","_file$type","_file$type2","file","setFile","loading","setLoading","upload","alert","form","FormData","append","res","post","headers","data","err","console","error","clearFile","isImage","type","startsWith","isVideo","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","e","target","files","src","URL","createObjectURL","alt","controls","onClick","name","toFixed","disabled","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/media/UploadMedia.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport api from \"../../api/services\";\nimport { UploadCloud, X, Image, Video } from \"lucide-react\";\n\nexport default function UploadMedia({ onCreated }) {\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  async function upload() {\n    if (!file) return alert(\"Please select a file\");\n\n    try {\n      setLoading(true);\n\n      const form = new FormData();\n      form.append(\"file\", file);\n\n      const res = await api.post(\"/media/upload\", form, {\n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      });\n\n      onCreated?.(res.data);\n      setFile(null);\n    } catch (err) {\n      console.error(err);\n      alert(\"Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function clearFile() {\n    setFile(null);\n  }\n\n  const isImage = file?.type?.startsWith(\"image\");\n  const isVideo = file?.type?.startsWith(\"video\");\n\n  return (\n    <div className=\"bg-white rounded-xl p-4 space-y-4\">\n      {/* HEADER */}\n      <div className=\"flex items-center gap-2 font-semibold\">\n        <UploadCloud size={16} />\n        Upload Media\n      </div>\n\n      {/* DROP ZONE */}\n      <label className=\"flex flex-col items-center justify-center\n        border-2 border-dashed border-gray-700 rounded-xl\n        p-6 cursor-pointer hover:border-indigo-500 transition\">\n\n        <input\n          type=\"file\"\n          accept=\"image/*,video/*\"\n          onChange={e => setFile(e.target.files[0])}\n          className=\"hidden\"\n        />\n\n        {!file ? (\n          <>\n            <UploadCloud className=\"text-gray-400 mb-2\" />\n            <div className=\"text-sm text-gray-400\">\n              Click to upload image or video\n            </div>\n            <div className=\"text-xs text-gray-600\">\n              PNG, JPG, MP4, WEBM\n            </div>\n          </>\n        ) : (\n          <div className=\"w-full space-y-2\">\n            {/* PREVIEW */}\n            <div className=\"relative rounded-lg overflow-hidden bg-black\">\n              {isImage && (\n                <img\n                  src={URL.createObjectURL(file)}\n                  alt=\"preview\"\n                  className=\"max-h-40 mx-auto\"\n                />\n              )}\n\n              {isVideo && (\n                <video\n                  src={URL.createObjectURL(file)}\n                  className=\"max-h-40 mx-auto\"\n                  controls\n                />\n              )}\n\n              <button\n                onClick={clearFile}\n                className=\"absolute top-1 right-1 bg-black/70 rounded-full p-1\"\n              >\n                <X size={14} />\n              </button>\n            </div>\n\n            {/* FILE INFO */}\n            <div className=\"flex items-center justify-between text-xs text-gray-400\">\n              <span className=\"flex items-center gap-1\">\n                {isImage && <Image size={12} />}\n                {isVideo && <Video size={12} />}\n                {file.name}\n              </span>\n              <span>{(file.size / 1024 / 1024).toFixed(2)} MB</span>\n            </div>\n          </div>\n        )}\n      </label>\n\n      {/* ACTION */}\n      <button\n        disabled={loading || !file}\n        onClick={upload}\n        className={`w-full flex items-center justify-center gap-2\n          px-3 py-2 rounded font-semibold\n          ${\n            loading || !file\n              ? \"bg-gray-700 cursor-not-allowed\"\n              : \"bg-indigo-600 hover:bg-indigo-500\"\n          }\n        `}\n      >\n        <UploadCloud size={16} />\n        {loading ? \"Uploading...\" : \"Upload Media\"}\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}