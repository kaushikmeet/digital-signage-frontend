{"ast":null,"code":"var _jsxFileName = \"D:\\\\digital-sinagae-project\\\\project\\\\frontend\\\\digital-signage\\\\src\\\\components\\\\ZonePlayer.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport api from \"../api/services\";\nimport usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport MediaPlayer from \"./MediaPlayer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ZonePlayer({\n  screenId,\n  zoneId,\n  items\n}) {\n  _s();\n  const {\n    current\n  } = usePlaylistPlayer(items);\n  const loggedRef = useRef(null);\n\n  /* ✅ ANALYTICS PER ZONE */\n  useEffect(() => {\n    var _current$mediaId;\n    if (!(current !== null && current !== void 0 && (_current$mediaId = current.mediaId) !== null && _current$mediaId !== void 0 && _current$mediaId._id)) return;\n\n    // prevent duplicate logs\n    if (loggedRef.current === current.mediaId._id) return;\n    loggedRef.current = current.mediaId._id;\n    api.post(\"/analytics/log\", {\n      screenId,\n      mediaId: current.mediaId._id,\n      zoneId\n    }).catch(() => {});\n  }, [current, screenId, zoneId]);\n  if (!(current !== null && current !== void 0 && current.mediaId)) return null;\n  return /*#__PURE__*/_jsxDEV(MediaPlayer, {\n    media: current.mediaId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 10\n  }, this);\n}\n_s(ZonePlayer, \"VvUY0Ny5ayYnH/CFBCNEoKBDCfU=\", false, function () {\n  return [usePlaylistPlayer];\n});\n_c = ZonePlayer;\nvar _c;\n$RefreshReg$(_c, \"ZonePlayer\");","map":{"version":3,"names":["useEffect","useRef","api","usePlaylistPlayer","MediaPlayer","jsxDEV","_jsxDEV","ZonePlayer","screenId","zoneId","items","_s","current","loggedRef","_current$mediaId","mediaId","_id","post","catch","media","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/digital-sinagae-project/project/frontend/digital-signage/src/components/ZonePlayer.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport api from \"../api/services\";\nimport usePlaylistPlayer from \"../hooks/usePlaylistPlayer\";\nimport MediaPlayer from \"./MediaPlayer\";\n\nexport default function ZonePlayer({ screenId, zoneId, items }) {\n  const { current } = usePlaylistPlayer(items);\n  const loggedRef = useRef(null);\n\n  /* ✅ ANALYTICS PER ZONE */\n  useEffect(() => {\n    if (!current?.mediaId?._id) return;\n\n    // prevent duplicate logs\n    if (loggedRef.current === current.mediaId._id) return;\n    loggedRef.current = current.mediaId._id;\n\n    api.post(\"/analytics/log\", {\n      screenId,\n      mediaId: current.mediaId._id,\n      zoneId\n    }).catch(() => {});\n  }, [current, screenId, zoneId]);\n\n  if (!current?.mediaId) return null;\n\n  return <MediaPlayer media={current.mediaId} />;\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAOC,iBAAiB,MAAM,4BAA4B;AAC1D,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,UAAUA,CAAC;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAM,CAAC,EAAE;EAAAC,EAAA;EAC9D,MAAM;IAAEC;EAAQ,CAAC,GAAGT,iBAAiB,CAACO,KAAK,CAAC;EAC5C,MAAMG,SAAS,GAAGZ,MAAM,CAAC,IAAI,CAAC;;EAE9B;EACAD,SAAS,CAAC,MAAM;IAAA,IAAAc,gBAAA;IACd,IAAI,EAACF,OAAO,aAAPA,OAAO,gBAAAE,gBAAA,GAAPF,OAAO,CAAEG,OAAO,cAAAD,gBAAA,eAAhBA,gBAAA,CAAkBE,GAAG,GAAE;;IAE5B;IACA,IAAIH,SAAS,CAACD,OAAO,KAAKA,OAAO,CAACG,OAAO,CAACC,GAAG,EAAE;IAC/CH,SAAS,CAACD,OAAO,GAAGA,OAAO,CAACG,OAAO,CAACC,GAAG;IAEvCd,GAAG,CAACe,IAAI,CAAC,gBAAgB,EAAE;MACzBT,QAAQ;MACRO,OAAO,EAAEH,OAAO,CAACG,OAAO,CAACC,GAAG;MAC5BP;IACF,CAAC,CAAC,CAACS,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;EACpB,CAAC,EAAE,CAACN,OAAO,EAAEJ,QAAQ,EAAEC,MAAM,CAAC,CAAC;EAE/B,IAAI,EAACG,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEG,OAAO,GAAE,OAAO,IAAI;EAElC,oBAAOT,OAAA,CAACF,WAAW;IAACe,KAAK,EAAEP,OAAO,CAACG;EAAQ;IAAAK,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAChD;AAACZ,EAAA,CAtBuBJ,UAAU;EAAA,QACZJ,iBAAiB;AAAA;AAAAqB,EAAA,GADfjB,UAAU;AAAA,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}